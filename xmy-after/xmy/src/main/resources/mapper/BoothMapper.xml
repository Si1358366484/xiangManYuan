<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.xmy.mapper.BoothMapper">

    <resultMap id="BoothResultMap" type="com.xmy.domain.Booth">
        <id property="id" column="id"/>
        <result property="boothName" column="booth_name"/>
        <result property="boothCapacity" column="booth_capacity"/>
        <result property="boothStatus" column="booth_status"/>
        <result property="boothPrice" column="booth_price"/>
        <result property="boothPeople" column="booth_people"/>
        <result property="boothTime" column="booth_time"/>
        <result property="boothType" column="booth_type"/>
    </resultMap>
    <!--    通用查询sql-->
    <sql id="baseSelect">
        SELECT * from booth as b where b.dbstatus != 2
    </sql>
    <!--    通用过滤sql-->
    <sql id="whereClause">
        <if test="boothName != null and boothName != ''">and b.booth_name like CONCAT('%',#{boothName},'%')</if>
        <if test="boothCapacity != null and boothCapacity != ''">and b.booth_capacity like CONCAT('%',#{boothCapacity},'%')</if>
        <if test="boothStatus != null and boothStatus != ''">and b.booth_status like CONCAT('%',#{boothStatus},'%')</if>
        <if test="boothPrice != null and boothPrice != ''">and b.booth_price like CONCAT('%',#{boothPrice},'%')</if>
        <if test="boothPeople != null and boothPeople != ''">and b.booth_people like CONCAT('%',#{boothPeople},'%')</if>
        <if test="boothTime != null and boothTime != ''">and b.booth_time like CONCAT('%',#{boothTime},'%')</if>
        <if test="boothType != null and boothType != ''">and b.booth_type like CONCAT('%',#{boothType},'%')</if>
    </sql>
    <select id="selectBoothList" resultMap="BoothResultMap">
        <include refid="baseSelect"/>
        <include refid="whereClause"/>
    </select>
</mapper>